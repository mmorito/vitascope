# セキュリティポリシー

Vitascopeは医療データを扱うプラットフォームとして、最高レベルのセキュリティ対策とコンプライアンス遵守を実施します。

## セキュリティ原則

- **最小権限の原則**: 必要最小限の権限のみを付与
- **多層防御**: 複数のセキュリティ対策による重層的な防御
- **デフォルトセキュア**: セキュリティはオプションではなく標準
- **ゼロトラスト**: すべてのネットワークトラフィックを検証

## データ保護

### 保存データ（Data at Rest）

- **暗号化アルゴリズム**: AES-256
- **鍵管理**: AWS KMS (Key Management Service)
- **暗号化対象**:
  - データベース全体（RDS暗号化）
  - S3バケット（サーバーサイド暗号化）
  - 機密データフィールド（アプリケーション層での暗号化）
- **匿名化**: 個人を特定可能な健康情報（PHI）の匿名化処理

### 転送中データ（Data in Transit）

- **TLS 1.3**: すべての通信で使用
- **HTTPS強制**: HTTP→HTTPSへの自動リダイレクト
- **HSTS**: HTTP Strict Transport Security
- **証明書管理**: AWS Certificate Manager

### バックアップと復旧

- **定期バックアップ**: データベースの自動バックアップ（日次）
- **バックアップ暗号化**: すべてのバックアップファイルを暗号化
- **リカバリテスト**: 四半期ごとの復旧テスト
- **データ保持ポリシー**: バックアップデータの保持期間（30日）

## アクセス制御

### 認証

- **多要素認証(MFA)**: 管理者アカウントで必須
- **パスワードポリシー**:
  - 最小12文字
  - 大文字・小文字・数字・特殊文字を含む
  - 90日ごとの変更
  - 過去5回のパスワード再利用禁止
- **認証システム**: Amazon Cognito
- **APIアクセス**: JWTトークンベースの認証

### 認可

- **ロールベースアクセス制御(RBAC)**:
  - 管理者: すべての機能にアクセス可能
  - 医療提供者: 割り当てられた患者データにアクセス可能
  - 患者: 自身のデータのみアクセス可能
- **リソースベースのポリシー**: S3などのAWSリソースに適用
- **セッション管理**: 15分のアイドルタイムアウト
- **IPベースのアクセス制限**: 管理機能はホワイトリストIPのみアクセス可能

## ネットワークセキュリティ

- **VPC設計**: プライベートサブネットの使用
- **セキュリティグループ**: 必要最小限のポート開放
- **NACLs**: ネットワークACLによる追加フィルタリング
- **WAF**: OWASP Top 10脆弱性からの保護
- **DDos対策**: AWS Shield
- **IPSec VPN**: 管理ネットワークとの接続

## アプリケーションセキュリティ

### セキュアコーディング

- **入力検証**: すべてのユーザー入力を厳格に検証
- **SQLインジェクション対策**: パラメータ化クエリの使用
- **XSS対策**: 出力エンコーディング、Content Security Policy
- **CSRF対策**: トークンベースの保護
- **認証・認可の分離**: 責務の明確な分離

### 脆弱性管理

- **静的アプリケーションセキュリティテスト(SAST)**: CI/CDパイプラインに統合
- **動的アプリケーションセキュリティテスト(DAST)**: 月次実行
- **依存関係スキャン**: OSS脆弱性の検出
- **コンテナスキャン**: Dockerイメージの脆弱性検査
- **パッチ管理**: セキュリティパッチの適時適用（重大度に応じた適用期限）

## 監視とログ

### セキュリティ監視

- **異常検知**: CloudWatchとSecurityHubによる異常検知
- **ログ解析**: 不審なアクティビティの検出
- **侵入検知**: GuardDutyによる継続的なモニタリング
- **アラート設定**: セキュリティイベントの即時通知
- **継続的モニタリング**: 24/7のセキュリティ監視

### ログ管理

- **集中ログ管理**: CloudWatchでのログ集約
- **アクセスログ**: すべてのAPIアクセスをログ記録
- **監査ログ**: 管理操作のログ記録
- **ログ保持期間**: 1年間
- **不変性**: ログの改ざん防止対策

## インシデント対応

### インシデント対応計画

1. **準備**: インシデント対応チームの編成とトレーニング
2. **検知と分析**: 素早いセキュリティイベントの検出と分析
3. **封じ込め**: 影響範囲の特定と封じ込め
4. **根絶**: 脅威の除去
5. **復旧**: システムの安全な復旧
6. **事後活動**: 振り返りと改善

### 訓練

- **シミュレーション**: 四半期ごとのインシデント対応シミュレーション
- **レッドチーム演習**: 年次ペネトレーションテスト
- **テーブルトップ演習**: 月次のシナリオベース討議
- **意識向上トレーニング**: 全従業員向けセキュリティ意識向上プログラム

## コンプライアンス

### 対象法規制

- **HIPAA** (米国): 健康保険の携行性と責任に関する法律
- **GDPR** (欧州): 一般データ保護規則
- **個人情報保護法** (日本): 個人情報保護法
- **医療情報システムの安全管理ガイドライン** (日本): 厚生労働省ガイドライン

### コンプライアンス文書

- **プライバシーポリシー**: データ収集・使用・共有に関する方針
- **利用規約**: サービス利用条件
- **データ処理同意書**: 明示的なデータ処理の同意
- **インシデント対応計画**: セキュリティインシデント発生時の対応手順
- **データ保持・破棄ポリシー**: データライフサイクル管理方針

### 評価とレビュー

- **自己評価**: 半年ごとのコンプライアンス自己評価
- **第三者監査**: 年次の第三者によるセキュリティ監査
- **脆弱性評価**: 四半期ごとの脆弱性評価
- **リスク評価**: 年次のリスク評価と対応計画の更新

## サプライチェーンセキュリティ

- **ベンダー評価**: セキュリティの観点からのベンダー評価
- **契約要件**: ベンダー契約におけるセキュリティ要件
- **脆弱性管理**: サプライチェーン全体での脆弱性管理
- **定期的なレビュー**: ベンダーセキュリティ体制の定期的レビュー 